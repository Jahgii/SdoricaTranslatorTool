<div class="container-m">
    <ng-container *ngIf="(languageOrigin.language$ | async)">
        <ng-container *ngIf="(groups$ | async) as data; else loading">
            <tui-tiles class="tiles tui-space_top-3" [debounce]="100" [(order)]="order" [@popIn]>
                <tui-tile *ngFor="let group of data; let index = index" class="tile" [style.order]="order.get(index)"
                    [width]="1" [height]="1" [@popIn]>
                    <div class="content">
                        <h2>
                            <tui-input-inline *ngIf="group.editing; else groupName;" tuiAutoFocus
                                [(ngModel)]="group.Name" (focusedChange)="onFocusedChange($any($event), group)"
                                (keydown.enter.prevent)="onEditGroupName(group)">
                                {{'type-name' | translate}}
                            </tui-input-inline>
                            <ng-template #groupName>
                                <div style="display: flex;">
                                    <span>{{ group.Name }}</span>
                                    <button tuiIconButton type="button" title="{{'edit-name' | translate}}" size="xs"
                                        appearance="icon" icon="tuiIconEdit2" class="tui-space_left-1"
                                        (click)="toogle(group)"></button>
                                </div>
                            </ng-template>
                        </h2>
                        <ng-container *ngIf="(group.TranslatedFiles/group.Files) < 1; else completed">
                            {{ "translated" | translate }}: {{ group.TranslatedFiles }} / {{ group.Files }}
                        </ng-container>
                        <ng-template #completed>
                            {{ "translated" | translate }}: <tui-svg src="tuiIconCheckCircle"></tui-svg>
                        </ng-template>
                        <button style="position: absolute; bottom: 0; right: 0;" tuiIconButton
                            icon="tuiIconArrowRightCircle" appearance="icon" shape="square"
                            routerLink="{{group.OriginalName}}"></button>
                    </div>
                </tui-tile>
            </tui-tiles>
        </ng-container>
        <ng-template #loading>
            <tui-loader [showLoader]="true" [overlay]="true" [size]="'xxl'" [@popIn]>
                <tui-block-status>
                    <h4>{{'loading-3-dots' | translate}}</h4>
                </tui-block-status>
            </tui-loader>
        </ng-template>
    </ng-container>
</div>